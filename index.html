<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Simplespil - Games for Kids</title>
  <link rel="stylesheet" href="shared/style.css">
  <link rel="manifest" href="manifest.json">
  <style>
    html, body {
      overflow: auto;
    }

    body {
      justify-content: center;
    }

    .home {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      gap: 24px;
      padding: 32px 20px;
    }

    .home h1 {
      font-size: 2.5rem;
      background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .tagline {
      color: var(--color-text-muted);
      font-size: 1.1rem;
      text-align: center;
    }

    .game-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 200px));
      gap: 20px;
      justify-content: center;
      max-width: 900px;
      width: 100%;
    }

    .game-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      background: var(--color-surface);
      border-radius: var(--radius);
      padding: 24px 28px;
      text-decoration: none;
      color: var(--color-text);
      transition: transform 0.2s, box-shadow 0.2s;
      border: 2px solid transparent;
    }

    .game-card:hover, .game-card:active {
      transform: translateY(-4px) scale(1.03);
      box-shadow: var(--shadow);
    }

    .game-card[data-color="primary"] { border-color: var(--color-primary); }
    .game-card[data-color="green"] { border-color: var(--color-green); }
    .game-card[data-color="blue"] { border-color: var(--color-blue); }
    .game-card[data-color="accent"] { border-color: var(--color-accent); }
    .game-card[data-color="pink"] { border-color: var(--color-pink); }
    .game-card[data-color="purple"] { border-color: var(--color-purple); }
    .game-card[data-color="orange"] { border-color: var(--color-orange); }

    .game-icon {
      font-size: 3rem;
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .game-card[data-color="primary"] .game-icon { background: rgba(233, 69, 96, 0.15); }
    .game-card[data-color="green"] .game-icon { background: rgba(78, 204, 163, 0.15); }
    .game-card[data-color="blue"] .game-icon { background: rgba(52, 152, 219, 0.15); }
    .game-card[data-color="accent"] .game-icon { background: rgba(245, 197, 24, 0.15); }
    .game-card[data-color="pink"] .game-icon { background: rgba(233, 30, 143, 0.15); }
    .game-card[data-color="purple"] .game-icon { background: rgba(155, 89, 182, 0.15); }
    .game-card[data-color="orange"] .game-icon { background: rgba(243, 156, 18, 0.15); }

    .game-card h2 {
      font-size: 1.3rem;
      margin: 0;
    }

    .game-card p {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      text-align: center;
      line-height: 1.4;
    }

    .play-count {
      font-size: 0.75rem;
      color: var(--color-text-muted);
      opacity: 0.7;
    }

    @media (max-width: 600px) {
      .home h1 { font-size: 2rem; }
      .game-cards {
        grid-template-columns: repeat(2, 1fr);
        padding: 0 8px;
      }
      .game-card { padding: 18px 16px; }
    }
  </style>
</head>
<body>
  <div class="home">
    <h1>Simplespil</h1>
    <p class="tagline">Simple games for kids. No ads. No internet needed.</p>

    <div class="game-cards">
      <a href="jump/index.html" class="game-card" data-game="jump" data-color="primary">
        <div class="game-icon">
          <canvas id="icon-jump" width="60" height="60"></canvas>
        </div>
        <h2>Jump!</h2>
        <p>Run and jump over obstacles as a dinosaur, unicorn, or hamster</p>
      </a>

      <a href="puzzle/index.html" class="game-card" data-game="puzzle" data-color="green">
        <div class="game-icon">
          <canvas id="icon-puzzle" width="60" height="60"></canvas>
        </div>
        <h2>Puzzle</h2>
        <p>Slide pieces to complete beautiful pictures</p>
      </a>

      <a href="labyrinth/index.html" class="game-card" data-game="labyrinth" data-color="blue">
        <div class="game-icon">
          <canvas id="icon-maze" width="60" height="60"></canvas>
        </div>
        <h2>Labyrinth</h2>
        <p>Find your way through the maze to reach the star</p>
      </a>

      <a href="fourinarow/index.html" class="game-card" data-game="fourinarow" data-color="accent">
        <div class="game-icon">
          <canvas id="icon-four" width="60" height="60"></canvas>
        </div>
        <h2>Four in a Row</h2>
        <p>Drop pieces to connect four in a row, column, or diagonal</p>
      </a>

      <a href="dressup/index.html" class="game-card" data-game="dressup" data-color="pink">
        <div class="game-icon">
          <canvas id="icon-dressup" width="60" height="60"></canvas>
        </div>
        <h2>Dress Up</h2>
        <p>Style a character and share your design with friends</p>
      </a>

      <a href="tetris/index.html" class="game-card" data-game="tetris" data-color="purple">
        <div class="game-icon">
          <canvas id="icon-tetris" width="60" height="60"></canvas>
        </div>
        <h2>Tetris</h2>
        <p>Stack falling blocks and clear lines</p>
      </a>

      <a href="whacamole/index.html" class="game-card" data-game="whacamole" data-color="orange">
        <div class="game-icon">
          <canvas id="icon-whacamole" width="60" height="60"></canvas>
        </div>
        <h2>Whack-a-Mole</h2>
        <p>Tap the moles before they hide back in their holes</p>
      </a>

      <a href="catch/index.html" class="game-card" data-game="catch" data-color="green">
        <div class="game-icon">
          <canvas id="icon-catch" width="60" height="60"></canvas>
        </div>
        <h2>Fruit Catcher</h2>
        <p>Move the basket to catch falling fruits</p>
      </a>

      <a href="memory/index.html" class="game-card" data-game="memory" data-color="green">
        <div class="game-icon">
          <canvas id="icon-memory" width="60" height="60"></canvas>
        </div>
        <h2>Memory</h2>
        <p>Watch the sequence and repeat it - how far can you go?</p>
      </a>

      <a href="match/index.html" class="game-card" data-game="match" data-color="accent">
        <div class="game-icon">
          <canvas id="icon-match" width="60" height="60"></canvas>
        </div>
        <h2>Match!</h2>
        <p>Drag shapes to their matching spots - circles, stars, and hearts</p>
      </a>

      <a href="candy/index.html" class="game-card" data-game="candy" data-color="pink">
        <div class="game-icon">
          <canvas id="icon-candy" width="60" height="60"></canvas>
        </div>
        <h2>Candy Match</h2>
        <p>Swap colorful candies to match 3 or more in a row</p>
      </a>
    </div>
  </div>

  <script src="shared/stats.js"></script>
  <script>
    // Sort game cards by most played, then show play counts
    const grid = document.querySelector('.game-cards');
    const cards = [...grid.querySelectorAll('.game-card[data-game]')];
    cards.sort((a, b) => SimplespilStats.getCount(b.dataset.game) - SimplespilStats.getCount(a.dataset.game));
    cards.forEach(card => {
      grid.appendChild(card);
      const count = SimplespilStats.getCount(card.dataset.game);
      if (count > 0) {
        const span = document.createElement('span');
        span.className = 'play-count';
        span.textContent = `played ${count} time${count === 1 ? '' : 's'}`;
        card.appendChild(span);
      }
    });
  </script>
  <script>
    // Draw mini icons on the home page
    (() => {
      // Jump icon - little dinosaur
      const jc = document.getElementById('icon-jump');
      if (jc) {
        const ctx = jc.getContext('2d');
        ctx.fillStyle = '#4ecca3';
        ctx.beginPath();
        ctx.ellipse(28, 30, 18, 16, 0, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.ellipse(44, 18, 10, 10, 0, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#fff';
        ctx.beginPath();
        ctx.arc(48, 15, 3, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#1a1a2e';
        ctx.beginPath();
        ctx.arc(49, 15, 1.5, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#3ba88a';
        for (let i = 0; i < 3; i++) {
          ctx.beginPath();
          ctx.moveTo(20 + i * 8, 16);
          ctx.lineTo(23 + i * 8, 10);
          ctx.lineTo(26 + i * 8, 16);
          ctx.fill();
        }
        ctx.fillRect(22, 42, 5, 12);
        ctx.fillRect(34, 42, 5, 12);
      }

      // Puzzle icon - 4 puzzle pieces
      const pc = document.getElementById('icon-puzzle');
      if (pc) {
        const ctx = pc.getContext('2d');
        const colors = ['#e94560', '#f5c518', '#4ecca3', '#3498db'];
        const positions = [[4, 4], [32, 4], [4, 32], [32, 32]];
        positions.forEach(([x, y], i) => {
          ctx.fillStyle = colors[i];
          ctx.fillRect(x, y, 24, 24);
          ctx.strokeStyle = 'rgba(0,0,0,0.2)';
          ctx.lineWidth = 1;
          ctx.strokeRect(x, y, 24, 24);
        });
        // Puzzle nubs
        ctx.fillStyle = colors[0];
        ctx.beginPath();
        ctx.arc(28, 16, 5, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = colors[2];
        ctx.beginPath();
        ctx.arc(28, 44, 5, 0, Math.PI * 2);
        ctx.fill();
      }

      // Maze icon - mini maze
      const mc = document.getElementById('icon-maze');
      if (mc) {
        const ctx = mc.getContext('2d');
        ctx.strokeStyle = '#4a90d9';
        ctx.lineWidth = 2;
        // Outer walls
        ctx.strokeRect(5, 5, 50, 50);
        // Internal walls
        const walls = [
          [5, 18, 22, 18], [18, 5, 18, 15], [30, 12, 30, 30],
          [18, 30, 30, 30], [40, 18, 40, 42], [18, 42, 40, 42],
          [48, 30, 55, 30]
        ];
        walls.forEach(([x1, y1, x2, y2]) => {
          ctx.beginPath();
          ctx.moveTo(x1, y1);
          ctx.lineTo(x2, y2);
          ctx.stroke();
        });
        // Player dot
        ctx.fillStyle = '#4ecca3';
        ctx.beginPath();
        ctx.arc(12, 12, 4, 0, Math.PI * 2);
        ctx.fill();
        // Goal star
        ctx.fillStyle = '#f5c518';
        ctx.beginPath();
        ctx.arc(48, 48, 4, 0, Math.PI * 2);
        ctx.fill();
      }
      // Four in a Row icon - mini board with discs
      const fc = document.getElementById('icon-four');
      if (fc) {
        const ctx = fc.getContext('2d');
        // Board background
        ctx.fillStyle = '#0f3460';
        ctx.fillRect(5, 15, 50, 40);
        // Holes (3x4 grid)
        const discColors = [
          [null, null, null, null],
          [null, null, '#f5c518', null],
          ['#e94560', '#f5c518', '#e94560', null],
        ];
        for (let r = 0; r < 3; r++) {
          for (let c = 0; c < 4; c++) {
            const cx = 13 + c * 12;
            const cy = 23 + r * 12;
            const color = discColors[r][c];
            ctx.fillStyle = color || '#1a1a2e';
            ctx.beginPath();
            ctx.arc(cx, cy, 4.5, 0, Math.PI * 2);
            ctx.fill();
          }
        }
        // Falling piece
        ctx.fillStyle = '#e94560';
        ctx.beginPath();
        ctx.arc(37, 9, 4.5, 0, Math.PI * 2);
        ctx.fill();
      }
      // Dress Up icon - little character with hat
      const dc = document.getElementById('icon-dressup');
      if (dc) {
        const ctx = dc.getContext('2d');
        // Body
        ctx.fillStyle = '#e91e8f';
        ctx.fillRect(22, 28, 16, 18);
        // Head
        ctx.fillStyle = '#f5d0a9';
        ctx.beginPath();
        ctx.arc(30, 20, 12, 0, Math.PI * 2);
        ctx.fill();
        // Eyes
        ctx.fillStyle = '#2c1810';
        ctx.beginPath();
        ctx.arc(26, 18, 2, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(34, 18, 2, 0, Math.PI * 2);
        ctx.fill();
        // Smile
        ctx.strokeStyle = '#2c1810';
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.arc(30, 21, 5, 0.2 * Math.PI, 0.8 * Math.PI);
        ctx.stroke();
        // Crown
        ctx.fillStyle = '#f5c518';
        ctx.beginPath();
        ctx.moveTo(20, 12);
        ctx.lineTo(20, 5);
        ctx.lineTo(25, 9);
        ctx.lineTo(30, 3);
        ctx.lineTo(35, 9);
        ctx.lineTo(40, 5);
        ctx.lineTo(40, 12);
        ctx.closePath();
        ctx.fill();
        // Legs
        ctx.fillStyle = '#3498db';
        ctx.fillRect(23, 46, 6, 10);
        ctx.fillRect(31, 46, 6, 10);
        // Shoes
        ctx.fillStyle = '#e94560';
        ctx.fillRect(21, 54, 10, 4);
        ctx.fillRect(29, 54, 10, 4);
      }
      // Tetris icon - mini tetris blocks
      const tc = document.getElementById('icon-tetris');
      if (tc) {
        const ctx = tc.getContext('2d');
        const b = 9; // block size
        const drawB = (x, y, color) => {
          ctx.fillStyle = color;
          ctx.fillRect(x, y, b - 1, b - 1);
          ctx.fillStyle = 'rgba(255,255,255,0.25)';
          ctx.fillRect(x, y, b - 1, 2);
          ctx.fillRect(x, y, 2, b - 1);
        };
        // T piece
        drawB(12, 38, '#9b59b6');
        drawB(21, 38, '#9b59b6');
        drawB(30, 38, '#9b59b6');
        drawB(21, 29, '#9b59b6');
        // L piece
        drawB(3, 47, '#f39c12');
        drawB(3, 38, '#f39c12');
        drawB(3, 29, '#f39c12');
        drawB(12, 47, '#f39c12');
        // S piece
        drawB(39, 47, '#4ecca3');
        drawB(48, 47, '#4ecca3');
        drawB(48, 38, '#4ecca3');
        drawB(39, 38, '#e94560');
        // I piece (falling)
        drawB(21, 5, '#3498db');
        drawB(21, 14, '#3498db');
        drawB(21, 23, '#3498db');
        // Bottom row fill
        drawB(3, 47, '#f39c12');
        drawB(12, 47, '#f39c12');
        drawB(21, 47, '#f5c518');
        drawB(30, 47, '#f5c518');
        drawB(39, 47, '#4ecca3');
        drawB(48, 47, '#4ecca3');
      }
      // Whack-a-Mole icon - mole popping out of hole
      const wc = document.getElementById('icon-whacamole');
      if (wc) {
        const ctx = wc.getContext('2d');
        // Dirt mound
        ctx.fillStyle = '#8B5E3C';
        ctx.beginPath();
        ctx.ellipse(30, 46, 24, 8, 0, 0, Math.PI * 2);
        ctx.fill();
        // Hole
        ctx.fillStyle = '#2a1a0a';
        ctx.beginPath();
        ctx.ellipse(30, 44, 16, 5, 0, 0, Math.PI * 2);
        ctx.fill();
        // Mole body
        ctx.fillStyle = '#8B6914';
        ctx.beginPath();
        ctx.ellipse(30, 32, 12, 14, 0, 0, Math.PI * 2);
        ctx.fill();
        // Belly
        ctx.fillStyle = '#D4A44C';
        ctx.beginPath();
        ctx.ellipse(30, 36, 7, 8, 0, 0, Math.PI * 2);
        ctx.fill();
        // Snout
        ctx.fillStyle = '#D4A44C';
        ctx.beginPath();
        ctx.ellipse(30, 28, 5, 3.5, 0, 0, Math.PI * 2);
        ctx.fill();
        // Nose
        ctx.fillStyle = '#4a2800';
        ctx.beginPath();
        ctx.ellipse(30, 26, 2.5, 1.5, 0, 0, Math.PI * 2);
        ctx.fill();
        // Eyes
        ctx.fillStyle = '#fff';
        ctx.beginPath();
        ctx.arc(25, 23, 3, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(35, 23, 3, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#1a1a2e';
        ctx.beginPath();
        ctx.arc(26, 23, 1.5, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(36, 23, 1.5, 0, Math.PI * 2);
        ctx.fill();
        // Ears
        ctx.fillStyle = '#6B4F10';
        ctx.beginPath();
        ctx.ellipse(20, 17, 3, 4, -0.3, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.ellipse(40, 17, 3, 4, 0.3, 0, Math.PI * 2);
        ctx.fill();
        // Front mound (covers bottom of mole)
        ctx.fillStyle = '#8B5E3C';
        ctx.beginPath();
        ctx.ellipse(30, 46, 24, 8, 0, 0, Math.PI * 2);
        ctx.fill();
        // Star (whack indicator)
        ctx.fillStyle = '#f5c518';
        const drawStar = (cx, cy, r) => {
          ctx.beginPath();
          for (let i = 0; i < 5; i++) {
            const a = -Math.PI / 2 + (i * Math.PI * 2) / 5;
            ctx.lineTo(cx + Math.cos(a) * r, cy + Math.sin(a) * r);
            const ia = a + Math.PI / 5;
            ctx.lineTo(cx + Math.cos(ia) * r * 0.4, cy + Math.sin(ia) * r * 0.4);
          }
          ctx.closePath();
          ctx.fill();
        };
        drawStar(48, 12, 7);
        drawStar(10, 10, 5);
      }
      // Fruit Catcher icon - basket with falling fruit
      const cc = document.getElementById('icon-catch');
      if (cc) {
        const ctx = cc.getContext('2d');
        // Falling apple
        ctx.fillStyle = '#e94560';
        ctx.beginPath();
        ctx.arc(20, 12, 7, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#4ecca3';
        ctx.beginPath();
        ctx.ellipse(23, 6, 4, 1.5, 0.5, 0, Math.PI * 2);
        ctx.fill();
        ctx.strokeStyle = '#5a3a1a';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(20, 5);
        ctx.lineTo(21, 2);
        ctx.stroke();
        // Falling orange
        ctx.fillStyle = '#f39c12';
        ctx.beginPath();
        ctx.arc(42, 20, 6, 0, Math.PI * 2);
        ctx.fill();
        // Basket
        ctx.fillStyle = '#c47a2a';
        ctx.beginPath();
        ctx.moveTo(12, 38);
        ctx.lineTo(48, 38);
        ctx.lineTo(44, 54);
        ctx.lineTo(16, 54);
        ctx.closePath();
        ctx.fill();
        // Basket weave lines
        ctx.strokeStyle = '#a0621a';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(14, 44);
        ctx.lineTo(46, 44);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(15, 49);
        ctx.lineTo(45, 49);
        ctx.stroke();
        // Basket rim
        ctx.fillStyle = '#d4892e';
        ctx.fillRect(11, 36, 38, 3);
        // Grapes in basket
        ctx.fillStyle = '#9b59b6';
        ctx.beginPath();
        ctx.arc(25, 34, 4, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(31, 33, 4, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(28, 30, 3.5, 0, Math.PI * 2);
        ctx.fill();
        // Banana in basket
        ctx.fillStyle = '#f5c518';
        ctx.lineWidth = 3;
        ctx.strokeStyle = '#f5c518';
        ctx.beginPath();
        ctx.arc(37, 32, 6, 0.8, 2.3);
        ctx.stroke();
      }
      // Memory icon - four colored Simon-style buttons
      const memc = document.getElementById('icon-memory');
      if (memc) {
        const ctx = memc.getContext('2d');
        const colors = ['#d63031', '#2980b9', '#27ae60', '#f1c40f'];
        const positions = [[6, 6], [32, 6], [6, 32], [32, 32]];
        positions.forEach(([x, y], i) => {
          ctx.fillStyle = colors[i];
          ctx.beginPath();
          ctx.moveTo(x + 4, y);
          ctx.lineTo(x + 18, y);
          ctx.quadraticCurveTo(x + 22, y, x + 22, y + 4);
          ctx.lineTo(x + 22, y + 18);
          ctx.quadraticCurveTo(x + 22, y + 22, x + 18, y + 22);
          ctx.lineTo(x + 4, y + 22);
          ctx.quadraticCurveTo(x, y + 22, x, y + 18);
          ctx.lineTo(x, y + 4);
          ctx.quadraticCurveTo(x, y, x + 4, y);
          ctx.fill();
          // Shine highlight
          ctx.fillStyle = 'rgba(255,255,255,0.25)';
          ctx.beginPath();
          ctx.ellipse(x + 11, y + 6, 7, 3, 0, 0, Math.PI * 2);
          ctx.fill();
        });
        // Lit effect on top-right button
        ctx.fillStyle = 'rgba(255,255,255,0.35)';
        ctx.beginPath();
        ctx.moveTo(36, 6);
        ctx.lineTo(50, 6);
        ctx.quadraticCurveTo(54, 6, 54, 10);
        ctx.lineTo(54, 24);
        ctx.quadraticCurveTo(54, 28, 50, 28);
        ctx.lineTo(36, 28);
        ctx.quadraticCurveTo(32, 28, 32, 24);
        ctx.lineTo(32, 10);
        ctx.quadraticCurveTo(32, 6, 36, 6);
        ctx.fill();
      }
      // Match icon - shapes (circle, square, triangle with dashed outlines and filled pieces)
      const matchc = document.getElementById('icon-match');
      if (matchc) {
        const ctx = matchc.getContext('2d');
        // Dashed circle outline (target)
        ctx.strokeStyle = '#e94560';
        ctx.lineWidth = 2;
        ctx.setLineDash([3, 3]);
        ctx.beginPath();
        ctx.arc(14, 16, 9, 0, Math.PI * 2);
        ctx.stroke();
        // Dashed triangle outline (target)
        ctx.strokeStyle = '#4ecca3';
        ctx.beginPath();
        ctx.moveTo(44, 7);
        ctx.lineTo(54, 25);
        ctx.lineTo(34, 25);
        ctx.closePath();
        ctx.stroke();
        ctx.setLineDash([]);
        // Filled star (piece)
        ctx.fillStyle = '#f5c518';
        ctx.beginPath();
        const sx = 14, sy = 44, sr = 8;
        for (let i = 0; i < 10; i++) {
          const a = (i * Math.PI) / 5 - Math.PI / 2;
          const r = i % 2 === 0 ? sr : sr * 0.4;
          ctx.lineTo(sx + Math.cos(a) * r, sy + Math.sin(a) * r);
        }
        ctx.closePath();
        ctx.fill();
        // Filled heart (piece)
        ctx.fillStyle = '#9b59b6';
        const hx = 44, hy = 46, hr = 8;
        ctx.beginPath();
        ctx.moveTo(hx, hy + hr * 0.5);
        ctx.bezierCurveTo(hx - hr, hy - hr * 0.2, hx - hr * 0.5, hy - hr * 0.9, hx, hy - hr * 0.3);
        ctx.bezierCurveTo(hx + hr * 0.5, hy - hr * 0.9, hx + hr, hy - hr * 0.2, hx, hy + hr * 0.5);
        ctx.fill();
        // Arrow hint
        ctx.strokeStyle = 'rgba(255,255,255,0.3)';
        ctx.lineWidth = 1.5;
        ctx.setLineDash([]);
        ctx.beginPath();
        ctx.moveTo(24, 30);
        ctx.lineTo(36, 30);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(33, 27);
        ctx.lineTo(36, 30);
        ctx.lineTo(33, 33);
        ctx.stroke();
      }
      // Candy Match icon - colorful candies in a grid
      const candyc = document.getElementById('icon-candy');
      if (candyc) {
        const ctx = candyc.getContext('2d');
        const colors = ['#e94560', '#4ecca3', '#f5c518', '#e91e8f', '#3498db', '#9b59b6'];
        const s = 14;
        // 3x3 grid of candy circles
        for (let r = 0; r < 3; r++) {
          for (let c = 0; c < 3; c++) {
            const cx = 12 + c * 18;
            const cy = 12 + r * 18;
            const ci = (r * 3 + c) % colors.length;
            ctx.fillStyle = colors[ci];
            ctx.beginPath();
            ctx.arc(cx, cy, s * 0.45, 0, Math.PI * 2);
            ctx.fill();
            // Highlight
            ctx.fillStyle = 'rgba(255,255,255,0.3)';
            ctx.beginPath();
            ctx.ellipse(cx - 2, cy - 2, s * 0.18, s * 0.12, -0.3, 0, Math.PI * 2);
            ctx.fill();
          }
        }
        // Swap arrows hint
        ctx.strokeStyle = 'rgba(255,255,255,0.5)';
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.moveTo(36, 30);
        ctx.lineTo(44, 30);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(42, 28);
        ctx.lineTo(44, 30);
        ctx.lineTo(42, 32);
        ctx.stroke();
        // Star sparkle
        ctx.fillStyle = '#f5c518';
        ctx.beginPath();
        const sx = 50, sy = 8, sr = 5;
        for (let i = 0; i < 8; i++) {
          const a = (i * Math.PI) / 4;
          const rad = i % 2 === 0 ? sr : sr * 0.35;
          ctx.lineTo(sx + Math.cos(a) * rad, sy + Math.sin(a) * rad);
        }
        ctx.closePath();
        ctx.fill();
      }
    })();
  </script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js');
    }
  </script>
</body>
</html>
